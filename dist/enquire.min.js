// enquire v2.0.0a - Awesome Media Queries in JavaScript
// Copyright (c) 2013 Nick Williams - https://www.github.com/WickyNilliams/enquire.js
// License: MIT (http://www.opensource.org/licenses/mit-license.php)

window.enquire=function(e){"use strict";function t(e,t){var n=0,r=e.length,i;for(n;n<r;n++){i=t(e[n],n);if(i===!1)break}}function n(e){return Object.prototype.toString.apply(e)==="[object Array]"}function r(e){return typeof e=="function"}function i(e){this.initialised=!1,this.options=e,!e.deferSetup&&this.setup()}function s(t,n){this.query=t,this.isUnconditional=n,this.handlers=[],this.mql=e(t);var r=this;this.mql.addListener(function(e){r.mql=e,r.assess()})}function o(){if(!e)throw new Error("matchMedia is required");this.queries={},this.browserIsIncapable=!e("only all").matches}return i.prototype={load:function(e){var t=this;if(!Modernizr||!Modernizr.load)return;e.push({callback:function(){t.on()}}),Modernizr.load(e)},setup:function(){var e=this.options.setup;this.initialised=!0,e&&(r(e)?e():this.load(e))},on:function(){this.initialised?this.options.match():this.setup()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},s.prototype={addHandler:function(e){var t=new i(e);this.handlers.push(t),this.mql.matches&&t.on()},removeHandler:function(e){var n=this.handlers;t(n,function(t,r){if(t.equals(e))return t.destroy(),!n.splice(r,1)})},clear:function(){t(this.handlers,function(e){e.destroy()})},assess:function(){var e=this.mql.matches||this.isUnconditional?"on":"off";t(this.handlers,function(t){t[e]()})}},o.prototype={register:function(e,i,o){var u=this.queries,a=o&&this.browserIsIncapable;return u[e]||(u[e]=new s(e,a)),r(i)&&(i={match:i}),n(i)||(i=[i]),t(i,function(t){u[e].addHandler(t)}),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},new o}(window.matchMedia);